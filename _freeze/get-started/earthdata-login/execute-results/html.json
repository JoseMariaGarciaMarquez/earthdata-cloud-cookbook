{
  "hash": "e833de8eafd01d3025de4b9acdc6b07e",
  "result": {
    "markdown": "---\ntitle: EarthData Login\nexecute:\n  eval: false\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\n---\n\n*Modified From [PODAAC AGU 2020](https://github.com/NASA-Openscapes/AGU-2020/blob/main/Part-II/01_sst_shpfile/AGU_tutorial1_shp_search.ipynb) and LPDAAC HLS Tutorial]*\n\nAn Earthdata Login account is required to access data, as well as discover restricted data, from the NASA Earthdata system. Thus, to access NASA data, you need EarthData Login. Please visit <https://urs.earthdata.nasa.gov> to register and manage your Earthdata Login account. This account is free to create and only takes a moment to set up.\n\nTo avoid being prompted for credentials every time you run and also allow clients such as curl to log in, you can create and/or add the following to a \"netrc\" file (pronounced \"Net RC\"). On a Mac, this is a file called `.netrc`, and on Windows it is `_netrc`. (There are no extensions on either file). \n\nBelow are ways to create a \"netrc\" file in your home directory. \n\n## R for Windows or macOS\n\nCreate a \"netrc\" file by running the following code in your R console (or after saving to an R script).\n\n::: {.cell}\n\n```{.r .cell-code}\n# Required packages for this script\npackages = c('sys', 'getPass')\n\n# Identify missing (not installed) packages\nnew.packages = packages[!(packages %in% installed.packages()[,\"Package\"])]\n\n# Install missing packages\nif(length(new.packages)) install.packages(new.packages, repos='http://cran.rstudio.com/')\n\n# Load packages into R\nlibrary(sys)\nlibrary(getPass)\n\n# Determine OS and associated netrc file \nnetrc_type <- if(.Platform$OS.type == \"windows\") \"_netrc\" else \".netrc\"    # Windows OS uses _netrc file\n\n# Specify path to user profile \nup <- file.path(Sys.getenv(\"USERPROFILE\"))                            # Retrieve user directory (for netrc file)\n\n# Below, HOME and Userprofile directories are set.  \n\nif (up == \"\") {\n    up <- Sys.getenv(\"HOME\") \n    Sys.setenv(\"userprofile\" = up)\n    if (up == \"\") {\n        cat('USERPROFILE/HOME directories need to be set up. Please type sys.setenv(\"HOME\" = \"YOURDIRECTORY\") or  sys.setenv(\"USERPROFILE\" = \"YOURDIRECTORY\") in your console and type your USERPROFILE/HOME direcory instead of \"YOURDIRECTORY\". Next, run the code chunk again.')\n    }\n} else {Sys.setenv(\"HOME\" = up)}        \n\nnetrc_path <- file.path(up, netrc_type, fsep = .Platform$file.sep)    # Path to netrc file\n\n# Create a netrc file if one does not exist already\nif (file.exists(netrc_path) == FALSE || grepl(\"urs.earthdata.nasa.gov\", readLines(netrc_path)) == FALSE) {\n    netrc_conn <- file(netrc_path)\n    \n    # User will be prompted for NASA Earthdata Login Username and Password below\n    writeLines(c(\"machine urs.earthdata.nasa.gov\",\n                 sprintf(\"login %s\", getPass(msg = \"Enter NASA Earthdata Login Username \\n (An account can be Created at urs.earthdata.nasa.gov):\")),\n                 sprintf(\"password %s\", getPass(msg = \"Enter NASA Earthdata Login Password:\"))), netrc_conn)\n    close(netrc_conn)\n}\n```\n:::\n\n\n## Common questions\n\n### How do I know if I already have a netrc file? \n\nYour netrc file will likely be in your root directory. It is a hidden file that you will not be able to see from your Finder (Mac) or Windows Explorer (Windows), so you'll have to do this from the Command Line. Navigate to your root directory and list all: \n\n#### On a Mac: \n\n```{.bash}\ncd ~\nls -la\n```\n\nIf you see a `.netrc` file, view what's inside (perhaps with `nano`), and if you'd like to delete the current version to start afresh, type `rm .netrc`. \n\n\n<!---\n### Previous notes/ideas\n\nTODO: develop as prose to set up for the following .ipynb examples\n\nTo access NASA data you have to authenticate.\n\nSolutions that work - these are detailed in separate chapters as Jupyter notebooks (`.ipynb`).\n\n1)  To access NASA data one must setup an Earthdata Login profile. This involves (prose here)\n\nSee/link to [Christine's post & conversation on the Jupyter discourse forum](https://discourse.jupyter.org/t/how-do-i-properly-protect-my-data-access-passwords-not-jupyter-tokens-passwords-on-3rd-party-jupyter-hub-services/9277)\n\n-   Create a netrc file\\\n-   Submit EDL credentials within a script\n\nSome talk about the redirects...\n\n--->",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": [],
    "engineDependencies": {},
    "preserve": {},
    "postProcess": null
  }
}