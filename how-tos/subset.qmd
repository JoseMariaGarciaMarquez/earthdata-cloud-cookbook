---
title: How do I subset data granules?
execute:
  eval: false
---

## How do I subset a data granule using Harmony?

::: {.panel-tabset group="language"}

## Python

Install the [harmony-py]("https://github.com/nasa/harmony-py") package:

```{bash}
# Install harmony-py
pip install -U harmony-py
```

Import packages: 

```{python}
import datetime as dt

from harmony import BBox, Client, Collection, Request
from harmony.config import Environment
```

### Set up Harmony client and authentication

We will authenticate the following Harmony request using a netrc file. See the [appendix]("https://nasa-openscapes.github.io/earthdata-cloud-cookbook/appendix/authentication.html") for more information on [Earthdata Login]("https://urs.earthdata.nasa.gov/") and netrc setup. This basic line below to create a Harmony Client assumes that we have a .netrc available.

```{python}
harmony_client = Client()
```
**Create Harmony request**

We are interested in the GHRSST Level 4 MUR Global Foundation Sea Surface Temperature Analysis dataset https://doi.org/10.5067/GHGMR-4FJ04

```{python}
dataset_short_name = 'MUR-JPL-L4-GLOB-v4.1'



request = Request(
  collection=Collection(id=dataset_short_name),
  spatial=BBox(-125.469,15.820,-99.453,35.859),
  temporal={
    'start': dt.datetime(2021, 3, 10, 1),
    'stop': dt.datetime(2021, 3, 10, 2)
  }
)

job_id = harmony_client.submit(request)

harmony_client.wait_for_processing(job_id)
```

## R

R code coming soon!

```{r}
# Coming soon!
```

## Matlab

Matlab code coming soon!

```{bash}
#| echo: true
# Coming soon!
```

## Command Line

With `wget` and `curl`:

```{bash}
# Coming soon!
```



:::

## How do I subset an OPeNDAP granule in the cloud?


## How do I subset a data granule using xarray?


## How do I download a subset of NetCDF-4?
*this might be a deprecated idea*